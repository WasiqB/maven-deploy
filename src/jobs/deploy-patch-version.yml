description: >
  This job will update and publish the patch version of the release.
parameters:
  executor:
    type: executor
    default: maven
  deploy-command:
    type: string
    description: "Maven deploy command to execute."
executor: << parameters.executor >>
steps:
  - deploy:
      version-command: mvn build-helper:parse-version versions:set -DnewVersion=\${parsedVersion.majorVersion}.\${parsedVersion.minorVersion}.\${parsedVersion.incrementalVersion} versions:commit
      version-snapshot-command: mvn build-helper:parse-version versions:set -DnewVersion=\${parsedVersion.majorVersion}.\${parsedVersion.minorVersion}.\${parsedVersion.nextIncrementalVersion}-SNAPSHOT versions:commit
      deploy-command: << parameters.deploy-command >>
