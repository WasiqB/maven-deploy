description: >
  This job will update and publish the minor version of the release.
parameters:
  executor:
    type: executor
    default: maven
  deploy-command:
    type: string
    description: "Maven deploy command to execute."
executor: << parameters.executor >>
steps:
  - deploy:
      version-command: mvn build-helper:parse-version versions:set -DnewVersion=\${parsedVersion.majorVersion}.\${parsedVersion.minorVersion}.0 versions:commit
      version-snapshot-command: mvn build-helper:parse-version versions:set -DnewVersion=\${parsedVersion.majorVersion}.\${parsedVersion.nextMinorVersion}.0-SNAPSHOT versions:commit
      deploy-command: << parameters.deploy-command >>
